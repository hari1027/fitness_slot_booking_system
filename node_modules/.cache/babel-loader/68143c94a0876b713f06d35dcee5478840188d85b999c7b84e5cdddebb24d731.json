{"ast":null,"code":"import React from'react';import'./activityCard.css';import{useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ActivityCard=_ref=>{let{name,slotsAvailable,waitlistNumber,icon,bookedIds,waitlistIds,timing,getClasses}=_ref;const{userId}=useParams();const isBooked=bookedIds.includes(userId);const isInWaitlist=waitlistIds.includes(userId);const isFull=slotsAvailable<=0?true:false;const userWaitlistPosition=isInWaitlist?waitlistIds.indexOf(userId)+1:null;const isCancelNotAllowed=()=>{const currentTime=new Date();const classStartTime=new Date(`${timing===null||timing===void 0?void 0:timing.date} ${timing===null||timing===void 0?void 0:timing.startTime}`);classStartTime.setMinutes(classStartTime.getMinutes()-30);return currentTime>classStartTime;};const handleBookNow=async name=>{let requestData={userId:userId,classId:name===\"Yoga\"?1:name===\"Gym\"?2:3};const response=await fetch('https://fitness-booking-backend-production.up.railway.app/book',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestData)});const result=await response.json();console.log(result);if(result.status){getClasses();}};const handleCancelSlot=async name=>{let requestData={userId:userId,classId:name===\"Yoga\"?1:name===\"Gym\"?2:3};const response=await fetch('https://fitness-booking-backend-production.up.railway.app/cancel',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestData)});const result=await response.json();console.log(result);if(result.status){getClasses();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"activity-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon-container\",children:/*#__PURE__*/_jsx(\"img\",{src:icon,alt:name,className:\"activity-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:name}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:'row',justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:\"10px\",width:\"45%\"},children:[isBooked?/*#__PURE__*/_jsx(\"p\",{children:\"Booked\"}):!isBooked&&!isFull?/*#__PURE__*/_jsx(\"p\",{children:`Slots Available: ${slotsAvailable}`}):isFull&&!isInWaitlist?/*#__PURE__*/_jsx(\"p\",{children:`Waiting List: ${waitlistNumber}`}):isInWaitlist?/*#__PURE__*/_jsx(\"p\",{children:`Your waitlist position: ${userWaitlistPosition}`}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[!isBooked&&!isInWaitlist&&/*#__PURE__*/_jsx(\"button\",{className:`book-btn ${isFull?'waiting':''}`,onClick:()=>{handleBookNow(name);},children:isFull?'Join Waiting List':'Book Now'}),(isBooked||isInWaitlist)&&!isCancelNotAllowed()&&/*#__PURE__*/_jsx(\"button\",{className:\"cancel-btn\",onClick:()=>{handleCancelSlot(name);},children:\"Cancel Slot\"}),isCancelNotAllowed()&&/*#__PURE__*/_jsx(\"div\",{className:\"cancelNotAllowdedText\",children:\"Cancel is not allowed if class start time is less than 30 mins\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingRight:\"10px\",width:\"45%\"},children:[/*#__PURE__*/_jsx(\"p\",{children:`Date: ${(timing===null||timing===void 0?void 0:timing.date)||'N/A'}`}),/*#__PURE__*/_jsx(\"p\",{children:`Start Time: ${(timing===null||timing===void 0?void 0:timing.startTime)||'N/A'}`}),/*#__PURE__*/_jsx(\"p\",{children:`End Time: ${(timing===null||timing===void 0?void 0:timing.endTime)||'N/A'}`})]})]})]})]});};export default ActivityCard;","map":{"version":3,"names":["React","useParams","jsx","_jsx","jsxs","_jsxs","ActivityCard","_ref","name","slotsAvailable","waitlistNumber","icon","bookedIds","waitlistIds","timing","getClasses","userId","isBooked","includes","isInWaitlist","isFull","userWaitlistPosition","indexOf","isCancelNotAllowed","currentTime","Date","classStartTime","date","startTime","setMinutes","getMinutes","handleBookNow","requestData","classId","response","fetch","method","headers","body","JSON","stringify","result","json","console","log","status","handleCancelSlot","className","children","src","alt","style","display","flexDirection","justifyContent","paddingLeft","width","onClick","paddingRight","endTime"],"sources":["C:/Users/hari0/OneDrive/Documents/fitness-booking-frontend/src/Home/activityCard.js"],"sourcesContent":["import React from 'react';\r\nimport './activityCard.css'; \r\nimport { useParams  } from 'react-router-dom';\r\n\r\nconst ActivityCard = ({ name, slotsAvailable, waitlistNumber, icon, bookedIds, waitlistIds , timing , getClasses }) => {\r\n  const { userId } = useParams();\r\n  const isBooked = bookedIds.includes(userId);\r\n  const isInWaitlist = waitlistIds.includes(userId);\r\n  const isFull = (slotsAvailable <= 0)? true : false\r\n  \r\n  const userWaitlistPosition = isInWaitlist ? waitlistIds.indexOf(userId) + 1 : null;\r\n\r\n  const isCancelNotAllowed = () => {\r\n    const currentTime = new Date();\r\n    const classStartTime = new Date(`${timing?.date} ${timing?.startTime}`);\r\n    classStartTime.setMinutes(classStartTime.getMinutes() - 30);\r\n    return currentTime > classStartTime;\r\n  };\r\n\r\n  const handleBookNow = async (name) => {\r\n    let requestData ={\r\n        userId: userId,\r\n        classId : name === \"Yoga\" ? 1 : name === \"Gym\" ? 2 : 3\r\n    }\r\n    const response = await fetch('https://fitness-booking-backend-production.up.railway.app/book', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(requestData),\r\n      });\r\n      const result = await response.json();\r\n      console.log(result)\r\n      if (result.status) {\r\n        getClasses()\r\n      }\r\n  };\r\n\r\n  const handleCancelSlot = async (name) => {\r\n    let requestData ={\r\n        userId: userId,\r\n        classId : name === \"Yoga\" ? 1 : name === \"Gym\" ? 2 : 3\r\n    }\r\n    const response = await fetch('https://fitness-booking-backend-production.up.railway.app/cancel', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(requestData),\r\n      });\r\n      const result = await response.json();\r\n      console.log(result)\r\n      if (result.status) {\r\n        getClasses()\r\n      }\r\n  };\r\n\r\n  return (\r\n    <div className=\"activity-card\">\r\n      <div className=\"icon-container\">\r\n        <img src={icon} alt={name} className=\"activity-icon\" />\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <h2>{name}</h2>\r\n    <div style={{display:\"flex\" , flexDirection:'row', justifyContent:\"space-between\"}}>\r\n      <div style = {{paddingLeft:\"10px\" ,width:\"45%\"}}>\r\n        {isBooked ? <p>Booked</p> : (!isBooked && !isFull) ?  <p>{`Slots Available: ${slotsAvailable}`}</p> :(isFull && !isInWaitlist)?<p>{`Waiting List: ${waitlistNumber}`}</p>: isInWaitlist ?  <p>{`Your waitlist position: ${userWaitlistPosition}`}</p> : null}\r\n\r\n        <div className=\"button-container\">\r\n          {!isBooked && !isInWaitlist && (\r\n            <button\r\n              className={`book-btn ${isFull ? 'waiting' : ''}`}\r\n              onClick={() => {handleBookNow(name)}}\r\n            >\r\n              {isFull ? 'Join Waiting List' : 'Book Now'}\r\n            </button>\r\n          )}\r\n          \r\n          {(isBooked || isInWaitlist) && !isCancelNotAllowed() && (\r\n            <button \r\n              className=\"cancel-btn\"\r\n              onClick={() => {handleCancelSlot(name)}}\r\n            >\r\n              Cancel Slot\r\n            </button>\r\n          )}\r\n          {isCancelNotAllowed() && \r\n            <div className='cancelNotAllowdedText'>\r\n              Cancel is not allowed if class start time is less than 30 mins \r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n      <div style = {{paddingRight:\"10px\" , width:\"45%\"}}>\r\n            <p>{`Date: ${timing?.date || 'N/A'}`}</p>\r\n            <p>{`Start Time: ${timing?.startTime || 'N/A'}`}</p>\r\n            <p>{`End Time: ${timing?.endTime || 'N/A'}`}</p>\r\n      </div>\r\n    </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActivityCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}